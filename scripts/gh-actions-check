#!/bin/bash

# GitHub Actions workflow checker
case "$1" in
  --watch|-w)
    echo "ğŸ‘€ Watching recent workflow runs (press Ctrl+C to stop)..."
    watch -n 10 "gh run list --limit=10"
    ;;
  --failed|-f)
    echo "âŒ Recent failed runs:"
    gh run list --status=failure --limit=10
    ;;
  --running|-r)
    echo "ğŸƒ Currently running workflows:"
    gh run list --status=in_progress
    ;;
  *)
    if [ -n "$1" ]; then
      echo "ğŸ“‹ Runs for workflow: $1"
      gh run list --workflow="$1" --limit=15
    else
      echo "ğŸ“‹ Recent workflow runs:"
      gh run list --limit=15
      echo ""
      echo "Usage: ghcheck [workflow-name] | --watch | --failed | --running"
    fi
    ;;
esac